version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Preparando compilación Spring Boot"
        - java -version
        - mvn -version
    build:
      commands:
        - echo "Compilando aplicación Spring Boot con Java 21"
        - mvn clean package -DskipTests
    postBuild:
      commands:
        - echo "Compilación completada"
        - ls -la target/*.jar
  artifacts:
    files:
      - target/*.jar
    name: backend-spring
  cache:
    paths:
      - ~/.m2/**/*