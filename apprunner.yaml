version: 1.0
runtime: java11
build:
  commands:
    pre-build:
      - echo "Iniciando build..."
    build:
      - ./mvnw clean package -DskipTests
    post-build:
      - echo "Build completado"
      - ls -la target/
run:
  runtime-version: java11
  command: java -Xmx512m -jar target/*.jar
  network:
    port: 8080
  env:
    - name: SERVER_PORT
      value: "8080"
    - name: SPRING_PROFILES_ACTIVE
      value: "prod"
